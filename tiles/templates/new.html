{% extends "base.html" %}
{% block content %}
<h1 class="sr-only">Creat new composition</h1>
<h2>Input</h2>
<div class="images" id="js-images"></div>
<p>
  <button id="js-images-add">add</button>
</p>
<h2>Storage</h2>
<div id="js-storage"></div>
<p>
  <button id="js-storage-save">save</button>
</p>
<h2>Composition</h2>
<form action="javascript:void(0)">
  <fieldset>
    <legend>Size</legend>
    <label for="js-width" class="sr-only">columns</label>
    <input type="number" id="js-width" min="0" class="size-input" />
    x
    <label for="js-height" class="sr-only">rows</label>
    <input type="number" id="js-height" min="0" class="size-input" />
  </fieldset>
  <fieldset>
    <legend>Mode</legend>
    <input
      type="radio"
      name="js-mode-preview"
      id="mode-final"
      value="0"
      checked="checked"
    />
    <label for="mode-final">Final</label>
    <input type="radio" name="js-mode-preview" id="mode-preview" value="1" />
    <label for="mode-preview">Preview</label>
  </fieldset>
  <fieldset>
    <button id="js-shuffle">shuffle</button>
  </fieldset>
</form>
<div class="composition" id="js-composition"></div>
{% endblock %}
{% block scripts %}
{{ composition.as_dict|json_script:"composition-data" }}
<script>
  window.tiles.pageNew(
    JSON.parse(document.getElementById('composition-data').textContent)
  );
</script>
{% endblock %}
